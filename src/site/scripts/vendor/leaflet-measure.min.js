/*! leaflet-measure 3.3.0 */
!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i(require("leaflet")):"function"==typeof define&&define.amd?define(["leaflet"],i):(t=t||self,t.MeasureControl=i(t.L))}(this,function(t){"use strict";var i=t.Control.extend({options:{position:"topright",activeColor:"#ABE67E",completedColor:"#C8F2BE",primaryLengthUnit:"meters",secondaryLengthUnit:void 0,primaryAreaUnit:"sqmeters",secondaryAreaUnit:void 0,decPoint:".",thousandsSep:"",precision:2,activeButtonClass:"leaflet-control-measure-on"},initialize:function(t){t&&t.position&&(this.options.position=t.position),t&&t.primaryLengthUnit&&(this.options.primaryLengthUnit=t.primaryLengthUnit),t&&t.secondaryLengthUnit&&(this.options.secondaryLengthUnit=t.secondaryLengthUnit),t&&t.primaryAreaUnit&&(this.options.primaryAreaUnit=t.primaryAreaUnit),t&&t.secondaryAreaUnit&&(this.options.secondaryAreaUnit=t.secondaryAreaUnit),t&&t.activeColor&&(this.options.activeColor=t.activeColor),t&&t.completedColor&&(this.options.completedColor=t.completedColor)},onAdd:function(i){this._map=i;var e=this._container=t.DomUtil.create("div","leaflet-control-measure leaflet-bar"),s=t.DomUtil.create("a","leaflet-control-measure-toggle leaflet-bar-part",e);return s.href="#",s.title="Measure distances and areas",s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 10h14M10 3v14"/></svg>',t.DomEvent.on(s,"click",this._toggleMeasure,this),this._measureLayer=t.featureGroup().addTo(i),e},_toggleMeasure:function(){this._measuring=!this._measuring,this._measuring?(t.DomUtil.addClass(this._container,this.options.activeButtonClass),this._startMeasuring()):(t.DomUtil.removeClass(this._container,this.options.activeButtonClass),this._stopMeasuring())},_startMeasuring:function(){this._measureLayer.clearLayers(),this._currentLine=t.polyline([],{"color":this.options.activeColor}).addTo(this._measureLayer),this._map.on("click",this._addPoint,this),this._map.on("mousemove",this._updateCursor,this)},_stopMeasuring:function(){this._map.off("click",this._addPoint,this),this._map.off("mousemove",this._updateCursor,this),this._currentLine&&(this._currentLine.setStyle({color:this.options.completedColor}),this._currentLine=null),this._measureLayer.clearLayers()},_addPoint:function(i){var e=i.latlng;this._currentLine&&this._currentLine.addLatLng(e);var s=t.circleMarker(e,{radius:4,color:this.options.activeColor}).addTo(this._measureLayer);this._measureLayer.addLayer(s)},_updateCursor:function(t){this._cursor&&this._cursor.remove(),this._cursor=L.circleMarker(t.latlng,{radius:4,color:this.options.activeColor,opacity:.5}).addTo(this._measureLayer)}});return t.Control.Measure=i,t.control.measure=function(t){return new i(t)},i});
