<!-- Leaflet core CSS & JS -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin=""
/>
<script
  src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""
></script>

<!-- Measure (LOCAL, self-hosted) -->
<link rel="stylesheet" href="/styles/vendor/leaflet-measure.css">
<script src="/scripts/vendor/leaflet-measure.min.js"></script>
<script>
  // Safety shim in case the build exposes MeasureControl globally
  (function(){
    if (window.L && !L.Control?.Measure && window.MeasureControl) {
      L.Control.Measure = window.MeasureControl;
    }
    console.log("[DG] Measure present (local):", !!(window.L && L.Control && L.Control.Measure));
  })();
</script>

<!-- Fullscreen control (keep this, it was 200 for you) -->
<link
  rel="stylesheet"
  href="https://unpkg.com/leaflet.fullscreen@2.4.0/Control.FullScreen.css"
/>
<script src="https://unpkg.com/leaflet.fullscreen@2.4.0/Control.FullScreen.js"></script>
<script>
  // Some versions use different casing; normalize if needed
  (function(){
    if (window.L && !L.Control?.Fullscreen && L.Control?.FullScreen) {
      L.Control.Fullscreen = L.Control.FullScreen;
    }
    console.log("[DG] Fullscreen present:", !!(window.L && L.Control && (L.Control.Fullscreen || L.Control.FullScreen)));
  })();
</script>

<!-- Optional styling tweaks -->
<style>
  .leaflet-control-measure {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
    font-size: 13px;
    background-color: rgba(255,255,255,0.9);
    border-radius: 6px;
    box-shadow: 0 0 4px rgba(0,0,0,0.25);
  }
  .leaflet-control-measure a { text-decoration: none; }
  .leaflet-control-measure a:hover { background-color: #f2f2f2; }
  .leaflet-control-measure .results span { font-weight: 500; }
</style>
