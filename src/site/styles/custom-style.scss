/* ===== THEME BASE ===== */

:root[data-theme="light"], .theme-light { 
  color-scheme: light; 
}
:root[data-theme="dark"],  .theme-dark  { 
  color-scheme: dark; 
}

/* Generic body colors (fallback) */
html[data-theme="light"] body {
  background-color: var(--background-primary, #fafafa);
  color: var(--text-normal, #222);
}
html[data-theme="dark"] body {
  background-color: var(--background-primary, #1b1b1b);
  color: var(--text-normal, #eaeaea);
}

/* ===== LIGHT THEME: parchment vibes ===== */

:root[data-theme="light"] {
  --background-primary:       #f6f1e6;  /* parchment base */
  --background-primary-alt:   #f9f5ec;
  --background-secondary:     #efe7d7;
  --background-secondary-alt: #e9dfca;
  --background-modifier-border: rgba(0,0,0,.08);
  --text-normal:              #26231f;
}

/* apply the variables for light mode */
html[data-theme="light"] body {
  background-color: var(--background-primary);
  color: var(--text-normal);
}

/* let the note surface be transparent so the body shows through */
html[data-theme="light"] .cm-s-obsidian,
html[data-theme="light"] .markdown-preview-view,
html[data-theme="light"] .content {
  background: transparent;
}

/* ===== FILETREE TOOLBAR (search + theme + language) ===== */

.filetree-toolbar {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;          /* allow wrapping on mobile */
}

/* ===== INLINE THEME TOGGLE IN FILE TREE SIDEBAR ===== */

.theme-toggle.theme-inline {
  position: static;
  padding: 0.35rem 0.55rem;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border, rgba(0,0,0,.12));
  background: var(--background-secondary, transparent);
  color: var(--text-normal);
  font-size: .95rem;
  line-height: 1;
  cursor: pointer;
  vertical-align: middle;
  height: 2rem;
}

:root[data-theme="dark"] .theme-toggle.theme-inline {
  background: var(--background-secondary, rgba(255,255,255,0.02));
  border-color: var(--background-modifier-border, rgba(255,255,255,.12));
}

.dg-theme-toggle-slot,
.theme-toggle.theme-inline {
  display: inline-flex;
  align-items: center;
}

/* ===== LANGUAGE SWITCHING: EN / HU ===== */

/* Show/hide language blocks based on <html data-lang="..."> */
html[data-lang="en"] [data-lang-block="hu"],
html[data-lang="hu"] [data-lang-block="en"] {
  display: none;
}

/* Single language toggle button (flags) */

.lang-toggle {
  cursor: pointer;
  padding: 0.15rem 0.55rem;
  border-radius: 6px;
  border: 1px solid var(--background-modifier-border, rgba(0,0,0,0.2));
  background: var(--background-secondary, rgba(0,0,0,0.03));
  font-size: 0.9rem;
  line-height: 1.2;
  color: var(--text-normal);
  height: 2rem;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* The inner span that shows the flag image */
.lang-toggle-icon {
  display: block;
  width: 1.6rem;
  height: 1.1rem;
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  border-radius: 2px;
}

/* optional small EN/HU label next to icon */
.lang-toggle-text {
  margin-left: 0.25rem;
  font-size: 0.7rem;
}

/* Pick the correct flag based on current language */
html[data-lang="en"] .lang-toggle-icon {
  background-image: url("/img/flags/en.svg");
}

html[data-lang="hu"] .lang-toggle-icon {
  background-image: url("/img/flags/hu.svg");
}

/* Dark theme tweak for language button */
:root[data-theme="dark"] .lang-toggle {
  background: var(--background-secondary, #22252f);
}

/* Optional: tiny tweak for very narrow screens */
@media (max-width: 480px) {
  .filetree-toolbar {
    justify-content: center;
  }
}
